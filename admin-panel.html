<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>ðŸ›  Lootliste â€“ Admin Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --gold:#f5c451;
  --bg:#0b0b0b;
  --panel:#111;
  --border:#2a2a2a;
  --ok:#4cff4c;
  --err:#ff5c5c;
}

body{
  margin:0;
  font-family:Arial, sans-serif;
  background:radial-gradient(ellipse at top,#1a1a1a 0%,#0b0b0b 60%);
  color:#eaeaea;
}

.wrapper{max-width:1400px;margin:0 auto}

header{
  background:url("img/banner-diablo.jpg") center/cover no-repeat;
}
.header-inner{
  padding:28px;
  background:linear-gradient(rgba(0,0,0,.75),rgba(0,0,0,.9));
}
header h1{margin:0;font-size:28px}
header p{margin:6px 0 0;font-size:14px;opacity:.9}

/* FEEDBACK */
.feedback{
  margin:20px 30px 0;
  padding:14px 18px;
  border-radius:14px;
  font-weight:bold;
  display:none;
}
.feedback.ok{border:1px solid var(--ok);color:var(--ok);background:rgba(76,255,76,.12)}
.feedback.err{border:1px solid var(--err);color:var(--err);background:rgba(255,92,92,.12)}

.container{padding:30px;display:grid;gap:26px}
.panel{
  background:linear-gradient(180deg,#161616,#0e0e0e);
  border:1px solid var(--border);
  border-radius:18px;
  padding:22px;
}
.panel h2{margin:0 0 16px;color:var(--gold)}

.form-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:16px;
}
label{font-size:13px;font-weight:bold;opacity:.85}
input,select{
  width:100%;
  padding:10px 12px;
  background:#0f0f0f;
  border:1px solid #333;
  border-radius:10px;
  color:#fff;
}

.actions{margin-top:18px}
button{
  padding:10px 18px;
  border-radius:12px;
  border:1px solid var(--border);
  background:#151515;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}
.save{border-color:var(--gold);color:var(--gold)}
button:hover{opacity:.85}

table{width:100%;border-collapse:collapse}
th,td{padding:10px;border-bottom:1px solid #222}
th{color:var(--gold)}
td img{width:42px}

textarea{
  width:100%;
  height:240px;
  background:#0f0f0f;
  border:1px solid #333;
  border-radius:12px;
  color:#9cff9c;
  padding:14px;
  font-family:monospace;
}
</style>
</head>

<body>
<div class="wrapper">
<header>
  <div class="header-inner">
    <h1>ðŸ›  Lootliste â€“ Admin Panel</h1>
    <p>Items verwalten Â· Vorschau Â· Export</p>
  </div>
</header>

<div id="feedback" class="feedback"></div>

<div class="container">

<div class="panel">
<h2>âž• Item</h2>

<div class="form-grid">
  <div><label>Name</label><input id="name"></div>

  <div>
    <label>Kategorie</label>
    <select id="category">
      <option value="unique">Unique</option>
      <option value="set">Set</option>
      <option value="runeword">Runeword</option>
      <option value="rare">Rare</option>
      <option value="magic">Magic</option>
      <option value="charm">Charm</option>
    </select>
  </div>

  <div>
    <label>Typ</label>
    <select id="type">
      <option value="waffe">Waffe</option>
      <option value="helm">Helm</option>
      <option value="ruestung">RÃ¼stung</option>
      <option value="schild">Schild</option>
      <option value="ring">Ring</option>
      <option value="amulett">Amulett</option>
      <option value="rune">Rune</option>
      <option value="charm">Charm</option>
    </select>
  </div>

  <div>
    <label>Status</label>
    <select id="status">
      <option value="verfuegbar">VerfÃ¼gbar</option>
      <option value="reserviert">Reserviert</option>
      <option value="vergeben">Vergeben</option>
    </select>
  </div>
</div>

<div class="actions">
  <button type="button" class="save" id="saveBtn">Speichern</button>
</div>
</div>

<div class="panel">
<h2>ðŸ“„ items.js Export</h2>
<textarea id="output" readonly></textarea>
</div>

</div>

<script>
const $=id=>document.getElementById(id);
const fb=$("feedback");
const fallback="img/items/placeholder.webp";
let items=[];

function feedback(text,error=false){
  fb.textContent=text;
  fb.className="feedback "+(error?"err":"ok");
  fb.style.display="block";
  setTimeout(()=>fb.style.display="none",3000);
}

async function loadItems(){
  try{
    const mod = await import("./items.js");
    items=[...mod.default];
    render();
  }catch(e){
    items=[];
    feedback("âš  items.js konnte nicht geladen werden â€“ starte leer",true);
    render();
  }
}

function render(){
  $("output").value=
`const items = ${JSON.stringify(items,null,2)};
export default items;`;
}

$("saveBtn").addEventListener("click",()=>{
  if(!$("name").value){
    feedback("Name fehlt",true);
    return;
  }
  items.push({
    name:$("name").value,
    category:$("category").value,
    type:$("type").value,
    status:$("status").value,
    img:fallback
  });
  render();
  feedback("Item gespeichert");
});

loadItems();
</script>
</body>
</html>
