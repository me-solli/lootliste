<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Item einreichen</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:system-ui;background:#0b0b0b;color:#eee}
.panel{max-width:520px;margin:40px auto;padding:24px;background:#141414;border-radius:12px}
label{display:block;margin:12px 0 6px}
input,button{width:100%;padding:10px;border-radius:8px;border:1px solid #2a2a2a;background:#0f0f0f;color:#eee}
button{margin-top:16px;background:#f5c451;color:#000;font-weight:600;cursor:pointer}
.notice{margin-top:12px;padding:10px;border-radius:8px;display:none}
.ok{background:#0f1a0f;color:#4cff4c}
.err{background:#1a0f0f;color:#ff5c5c}
</style>
</head>

<body>
<div class="panel">
<h2>Item einreichen</h2>

<form id="f">
  <!-- DEFAULT TYPE, ADMIN ÜBERSCHREIBT -->
  <input type="hidden" name="type" value="sonstiges">

  <label>Item-Screenshot *</label>
  <input type="file" name="screenshot" accept="image/*" required>

  <button type="submit">Item einreichen</button>
</form>

<div id="ok" class="notice ok">✔ Erfolgreich</div>
<div id="err" class="notice err">✖ Fehler</div>
</div>

<script>
const API="https://content-connection-production-ea07.up.railway.app";
f.onsubmit=async e=>{
  e.preventDefault(); ok.style.display=err.style.display="none";
  try{
    const r=await fetch(API+"/api/items",{
      method:"POST",
      headers:{"x-login-id":"dev-admin"},
      credentials:"include",
      body:new FormData(f)
    });
    if(!r.ok) throw 0;
    f.reset(); ok.style.display="block";
  }catch{err.style.display="block";}
};
</script>
</body>
</html>
