<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>üéÅ Free Lootliste ‚Äì Community Items | D2R Non-Ladder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    :root{
      --bg:#0b0b0b;
      --soft:#151515;
      --border:#222;
      --gold:#f5c451;
      --text:#eaeaea;
      --muted:#bdbdbd;
      --green:#4cff4c;
      --red:#ff5c5c;
      --purple:#9146FF;
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      font-family:Arial,Helvetica,sans-serif;
      background:var(--bg);
      color:var(--text);
    }

    .wrapper{
      max-width:1200px;
      margin:0 auto;
      padding:0 16px 40px;
    }

    /* ===== HERO / BANNER ===== */
    .hero{
      margin-top:24px;
      border-radius:18px;
      overflow:hidden;
    }

    .hero-inner{
      position:relative;
      min-height:220px;
      background:url("./img/banner-diablo.jpg") center/cover no-repeat;
    }

    .hero-overlay{
      position:absolute;
      inset:0;
      background:linear-gradient(
        180deg,
        rgba(0,0,0,.55) 0%,
        rgba(0,0,0,.85) 70%,
        rgba(0,0,0,.95) 100%
      );
    }

    .hero-content{
      position:relative;
      z-index:2;
      padding:28px 32px;
    }

    .hero h1{
      margin:0;
      font-size:28px;
      color:#fff;
    }

    .hero p{
      margin:6px 0 10px;
      color:var(--muted);
      font-size:14px;
    }

    .hero-links a{
      display:inline-block;
      margin-top:6px;
      color:var(--purple);
      text-decoration:none;
      font-weight:bold;
      font-size:14px;
    }

    .hero-links a:hover{
      text-decoration:underline;
    }

    /* ===== CONTROLS ===== */
    .controls{
      margin-top:22px;
      display:flex;
      gap:12px;
      flex-wrap:wrap;
    }

    input,select{
      background:var(--soft);
      border:1px solid var(--border);
      color:var(--text);
      padding:8px 10px;
      border-radius:8px;
      font-size:14px;
    }

    /* ===== TABLE ===== */
    table{
      width:100%;
      margin-top:20px;
      border-collapse:collapse;
      background:var(--soft);
      border:1px solid var(--border);
      border-radius:14px;
      overflow:hidden;
    }

    thead th{
      padding:12px;
      text-align:left;
      font-size:13px;
      color:var(--gold);
      border-bottom:1px solid var(--border);
      white-space:nowrap;
    }

    tbody td{
      padding:10px 12px;
      border-bottom:1px solid #1e1e1e;
      font-size:14px;
      vertical-align:middle;
    }

    tbody tr:hover{
      background:#191919;
    }

    .item-name{
      font-weight:bold;
      color:#fff;
      min-width:220px;
    }

    .stars{
      color:var(--gold);
    }

    .roll{
      font-size:13px;
      color:#cfcfcf;
    }

    .status.verfuegbar{
      color:var(--green);
      font-weight:bold;
    }

    .status.vergeben{
      color:var(--red);
      font-weight:bold;
    }

    /* ===== FOOTER ===== */
    footer{
      margin-top:40px;
      padding-top:20px;
      border-top:1px solid var(--border);
      font-size:13px;
    }

    footer a{
      color:var(--gold);
      margin-right:16px;
      text-decoration:none;
    }

    footer a:hover{
      text-decoration:underline;
    }

    /* ===== MOBILE ===== */
    @media (max-width:700px){
      thead{display:none}
      table,tbody,tr,td{display:block;width:100%}
      tbody tr{
        padding:10px 0;
        border-bottom:1px solid var(--border);
      }
      tbody td{
        border:none;
        padding:6px 12px;
      }
    }
  </style>
</head>

<body>
<div class="wrapper">

  <!-- BANNER -->
  <section class="hero">
    <div class="hero-inner">
      <div class="hero-overlay"></div>
      <div class="hero-content">
        <h1>üéÅ Free Lootliste ‚Äì Community Items</h1>
        <p>Diablo II: Resurrected ¬∑ Non-Ladder ¬∑ kostenlos f√ºr die Community</p>
        <div class="hero-links">
          <a href="https://www.twitch.tv/me_solli" target="_blank" rel="noopener">
            ‚ñ∂ twitch.tv/me_solli
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- FILTER -->
  <div class="controls">
    <input id="search" placeholder="Item suchen ‚Ä¶">
    <select id="statusFilter">
      <option value="all">Alle Status</option>
      <option value="Verf√ºgbar">Verf√ºgbar</option>
      <option value="Vergeben">Vergeben</option>
    </select>
    <select id="sortStars">
      <option value="none">Keine Sortierung</option>
      <option value="desc">‚≠ê H√∂chste zuerst</option>
      <option value="asc">‚≠ê Niedrigste zuerst</option>
    </select>
  </div>

  <!-- TABLE -->
  <table>
    <thead>
      <tr>
        <th>Item</th>
        <th>Typ</th>
        <th>Rating</th>
        <th>Roll</th>
        <th>Kontakt</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody id="loot-table"></tbody>
  </table>

  <!-- FOOTER -->
  <footer>
    <a href="impressum.html">Impressum</a>
    <a href="datenschutz.html">Datenschutz</a>
  </footer>

</div>

<script type="module">
  import items from "./items.js";

  const tbody = document.getElementById("loot-table");
  const search = document.getElementById("search");
  const statusFilter = document.getElementById("statusFilter");
  const sortStars = document.getElementById("sortStars");

  function starCount(s){
    return (s.match(/‚òÖ/g) || []).length;
  }

  function render(){
    tbody.innerHTML = "";
    let list = [...items];

    if(search.value){
      list = list.filter(i =>
        i.name.toLowerCase().includes(search.value.toLowerCase())
      );
    }

    if(statusFilter.value !== "all"){
      list = list.filter(i => i.status === statusFilter.value);
    }

    if(sortStars.value !== "none"){
      list.sort((a,b)=>{
        const diff = starCount(b.stars) - starCount(a.stars);
        return sortStars.value === "desc" ? diff : -diff;
      });
    }

    list.forEach(item => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td class="item-name">${item.name}</td>
        <td>${item.category}</td>
        <td class="stars">${item.stars}</td>
        <td class="roll">${item.roll}</td>
        <td>${item.contact}</td>
        <td class="status ${item.status === "Verf√ºgbar" ? "verfuegbar" : "vergeben"}">
          ${item.status}
        </td>
      `;
      tbody.appendChild(tr);
    });
  }

  render();
  search.oninput = render;
  statusFilter.onchange = render;
  sortStars.onchange = render;
</script>

</body>
</html>
